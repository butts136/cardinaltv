{% extends "diaporama_base.html" %}

{% block title %}NoÃ«l Â· Cardinal TV{% endblock %}

{% block page_title %}NoÃ«l{% endblock %}
{% block page_subtitle %}
  <p class="page-subtitle">Configurez l'alerte automatique pour la pÃ©riode des fÃªtes de NoÃ«l.</p>
{% endblock %}
{% block header_actions %}
  <a href="{{ url_for('main.slideshow_overview') }}" class="secondary-button">Vue gÃ©nÃ©rale</a>
{% endblock %}

{% block content %}
  <section class="card christmas-section" id="christmas-section">
    <div class="section-header">
      <div>
        <h2>Diapositive NoÃ«l ğŸ„</h2>
        <p class="playlist-subtitle">Alerte auto-gÃ©nÃ©rÃ©e pour les fÃªtes de fin d'annÃ©e.</p>
      </div>
    </div>

    <div class="section-content">
      <div class="form-row dual">
        <div>
          <label for="christmas-enabled" class="eyebrow">Statut</label>
          <label class="visibility-toggle">
            <span class="visibility-toggle-label visibility-toggle-label-on">ActivÃ©e</span>
            <div class="visibility-toggle-switch">
              <input
                id="christmas-enabled"
                class="visibility-toggle-checkbox"
                type="checkbox"
                aria-label="Activer ou dÃ©sactiver la diapositive NoÃ«l"
              />
              <span class="visibility-toggle-slider"></span>
            </div>
            <span class="visibility-toggle-label visibility-toggle-label-off">DÃ©sactivÃ©e</span>
          </label>
        </div>
        <div>
          <label for="christmas-days-before">Jours avant NoÃ«l</label>
          <input type="number" id="christmas-days-before" min="0" max="90" step="1" value="25" />
          <p class="field-hint">Nombre de jours avant le 25 dÃ©cembre pour commencer l'affichage.</p>
        </div>
        <div>
          <label for="christmas-duration">DurÃ©e (secondes)</label>
          <input type="number" id="christmas-duration" min="5" max="600" step="1" value="12" />
          <p class="field-hint">Temps d'affichage de la diapositive.</p>
        </div>
      </div>
      <div class="birthday-preview-actions">
        <button type="button" class="primary-button" id="christmas-save">Enregistrer</button>
        <span id="christmas-status" class="upload-feedback" aria-live="polite"></span>
      </div>
    </div>
  </section>

  {% set editor_prefix = "christmas" %}
  {% set editor_kind = "christmas" %}
  {% set editor_variant = "" %}
  {% set editor_title = "Ã‰diteur NoÃ«l" %}
  {% set editor_description = "Composez la diapo NoÃ«l avec un fond et vos textes." %}
  {% set editor_tokens = [
    {"code": "[days_until]", "label": "Jours restants avant NoÃ«l"},
    {"code": "[days_left]", "label": "Alias jours restants"},
    {"code": "[days_label]", "label": "jour/jours"},
    {"code": "[christmas_date]", "label": "Date de NoÃ«l (25 dÃ©cembre YYYY)"},
    {"code": "[christmas_weekday]", "label": "Jour de NoÃ«l"},
    {"code": "[year]", "label": "AnnÃ©e en cours"},
  ] %}
  {% set show_meta = False %}
  {% set show_enabled_toggle = False %}
  {% include "partials/live_editor_section.html" %}
{% endblock %}

{% block scripts %}
  {{ super() }}
  <script src="{{ url_for('static', filename='js/live_editor.js') }}"></script>
{% endblock %}
